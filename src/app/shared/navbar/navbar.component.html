<header>
  <div class="header-container">
    <div class="header-container__title">
      <a [routerLinkActive]="['active']" class="router-link" routerLink=""
        >FakeKino!</a
      >
    </div>
    <div class="header-container__buttons">
      <ng-container *ngIf="authState | async as authState">
        <ng-container *ngIf="authState.isLogged; else notLogged">
          <ng-container *ngIf="ticketState$ | async as ticketState">
            <button class="header-button cart" type="button">
              <fa-icon [icon]="cart"></fa-icon>
              <ng-container *ngIf="ticketState.length !== 0">
                <div class="cart-ammount">{{ ticketState.length }}</div>
              </ng-container>
            </button>
          </ng-container>
          <div class="dropdown">
            <button class="header-button login-button" type="button">
              {{ authState.data!.userFirstName }}
            </button>
            <div class="login-dropdown-content">
              <a
                class="dropdown-link"
                routerLink="/my-tickets/{{ authState.id }}"
                >Moje Bilety</a
              >
              <a class="dropdown-link" routerLink="/to-watch/{{ authState.id }}"
                >Chcę obejrzeć</a
              >
              <a class="dropdown-link" routerLink="/settings">Ustawienia</a>
              <a class="dropdown-link" (click)="handleLogout()">Wyloguj</a>
            </div>
          </div>
        </ng-container>
      </ng-container>
      <ng-template #notLogged>
        <a routerLink="/login"
          ><button class="header-button login-button" type="button">
            Zaloguj
          </button></a
        >
      </ng-template>
    </div>
  </div>
</header>
